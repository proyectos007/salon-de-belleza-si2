import{L as U,x as g,i as B,c as N,o as S,w as j,a as r,j as k,b as t,u as l}from"./app-iFrUQ6Gu.js";import{s as $}from"./index-CG3TGDyQ.js";import{s as w}from"./index-DZIu5ukr.js";import{s as u}from"./index-C1CZK6ee.js";const M={class:"flex flex-col gap-2 mb-2"},z={class:"flex flex-col gap-2 mb-2"},L={class:"flex flex-col gap-2 mb-2"},O={class:"flex justify-between py-2"},A={__name:"EditModal",props:{modelValue:Boolean},emits:["update:modelValue"],setup(v,{emit:x}){var n,p,f,b,c,V;const a=U(),o=g({id:(p=(n=a==null?void 0:a.props)==null?void 0:n.user)==null?void 0:p.id,name:(b=(f=a==null?void 0:a.props)==null?void 0:f.user)==null?void 0:b.name,email:(V=(c=a==null?void 0:a.props)==null?void 0:c.user)==null?void 0:V.email,role_id:null,password:null}),m=B(),d=x,y=()=>{var i,e,s;o.role_id=(s=(e=(i=a.props)==null?void 0:i.user)==null?void 0:e.roles[0])==null?void 0:s.id,o.put(route("admin.users.update",o.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m.add({severity:"success",summary:"Éxito",detail:"Usuario actualizado correctamente",life:5e3}),d("update:modelValue",!1),o.reset()},onError:C=>{Object.values(C).flat().forEach(E=>{m.add({severity:"error",summary:"Error",detail:E,life:5e3})})}})};return(i,e)=>(S(),N(l($),{visible:v.modelValue,"onUpdate:visible":e[4]||(e[4]=s=>d("update:modelValue",s)),header:"Editar Perfil",style:{width:"30rem"}},{default:j(()=>[r("form",{onSubmit:k(y,["prevent"])},[r("div",M,[e[5]||(e[5]=r("label",{for:"password"},"Nombre",-1)),t(l(u),{modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).name=s),placeholder:"Nombre del rol",class:"w-full"},null,8,["modelValue"])]),r("div",z,[e[6]||(e[6]=r("label",{for:"password"},"Correo",-1)),t(l(u),{modelValue:l(o).email,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).email=s),placeholder:"Correo",class:"w-full"},null,8,["modelValue"])]),r("div",L,[e[7]||(e[7]=r("label",{for:"password"},"Contraseña",-1)),t(l(u),{id:"password",type:"password",placeholder:"Contraseña",modelValue:l(o).password,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).password=s)},null,8,["modelValue"])]),r("div",O,[t(l(w),{label:"Cancelar",onClick:e[3]||(e[3]=s=>d("update:modelValue",!1)),loading:l(o).processing},null,8,["loading"]),t(l(w),{label:"Editar",type:"submit",loading:l(o).processing},null,8,["loading"])])],32)]),_:1},8,["visible"]))}};export{A as default};
