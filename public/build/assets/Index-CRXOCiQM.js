import{d as y,i as v,x,c as w,o as g,w as n,a as l,b as a,u as o,g as C,t as V,j as U}from"./app-C-h774Oa.js";import{_ as S}from"./AppLayout-Bl_XG80I.js";import{s as _}from"./index-nmgM7YKN.js";import{s as m}from"./index-Chi2xFQy.js";import{s as u}from"./index-CBol0Ht1.js";import{s as E,a as p}from"./index-rZFWiqFY.js";import"./EditModal-Bqrt4QtX.js";import"./index-Vnj-Z7fa.js";import"./index-C03yT1lT.js";import"./index-mWvpBh6V.js";const N={client:2},$={class:"mt-4 bg-white shadow-md p-4 rounded-lg"},j={class:"flex justify-between my-5"},k={class:"card"},O={class:"flex flex-col gap-2 mb-2"},B={class:"flex flex-col gap-2 mb-2"},h={class:"flex flex-col gap-2 mb-2"},A={class:"flex flex-col gap-2 mb-2"},D={class:"flex justify-between py-2"},z={__name:"Index",props:{clients:Object},setup(f){const i=y(!1),d=v(),s=x({name:"",email:"",role_id:2,password:"",password_confirmation:""}),c=()=>{s.role_id=N.client,s.post(route("admin.clients.store"),{preserveScroll:!0,preserveState:!0,onSuccess:t=>{console.log(`Respuesta ${JSON.stringify(t)}`),d.add({severity:"success",summary:"Éxito",life:5e3,detail:"Usuario creado correctamente"}),i.value=!1,s.reset()},onError:t=>{s.errors=t,t?Object.entries(t).forEach(([e,r])=>{Array.isArray(r)?r.forEach(b=>{d.add({severity:"error",summary:"Error",life:5e3,detail:b})}):d.add({severity:"error",summary:"Error",life:5e3,detail:r})}):d.add({severity:"error",summary:"Error",life:5e3,detail:"Ha ocurrido un error desconocido."})}})};return(t,e)=>(g(),w(S,{title:"Usuarios"},{default:n(()=>[l("div",$,[l("div",j,[e[7]||(e[7]=l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Gestionar Clientes ",-1)),a(o(u),{label:"Crear Usuarios",onClick:e[0]||(e[0]=()=>i.value=!0)})]),l("div",k,[a(o(E),{value:f.clients,tableStyle:"min-width: 50rem"},{default:n(()=>[a(o(p),{field:"id",header:"Codigo"}),a(o(p),{field:"name",header:"Nombre"}),a(o(p),{field:"email",header:"Correo"}),a(o(p),{header:"Dinero Gastado"},{body:n(({data:r})=>e[8]||(e[8]=[C(V(0))])),_:1})]),_:1},8,["value"])]),a(o(_),{visible:i.value,"onUpdate:visible":e[6]||(e[6]=r=>i.value=r),class:"py-5 px-2",header:"Creando Cliente",style:{width:"25rem"}},{default:n(()=>[l("form",{onSubmit:U(c,["prevent"])},[l("div",O,[e[9]||(e[9]=l("label",{for:"name"},"Nombre",-1)),a(o(m),{id:"name",type:"text",placeholder:"Nombre del usuario",modelValue:o(s).name,"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).name=r)},null,8,["modelValue"])]),l("div",B,[e[10]||(e[10]=l("label",{for:"email"},"Correo",-1)),a(o(m),{id:"email",type:"email",placeholder:"user@correo.com",modelValue:o(s).email,"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).email=r)},null,8,["modelValue"])]),l("div",h,[e[11]||(e[11]=l("label",{for:"password"},"Contraseña",-1)),a(o(m),{id:"password",type:"password",placeholder:"Contraseña",modelValue:o(s).password,"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).password=r)},null,8,["modelValue"])]),l("div",A,[e[12]||(e[12]=l("label",{for:"password"},"Confirmar Contraseña",-1)),a(o(m),{id:"password",type:"password",placeholder:"Confirma contraseña",modelValue:o(s).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).password_confirmation=r)},null,8,["modelValue"])]),l("div",D,[a(o(u),{label:"Cancelar",onClick:e[5]||(e[5]=()=>i.value=!1),loading:o(s).processing},null,8,["loading"]),a(o(u),{label:"Crear",type:"submit",loading:o(s).processing},null,8,["loading"])])],32)]),_:1},8,["visible"])])]),_:1}))}};export{z as default};
